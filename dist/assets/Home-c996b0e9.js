import{j as z,k as $,u as x,l as I,_ as A,m as L,n as N,r as v,b as C,o as _,g,p as P,f as y,w,e as S,S as V,q,v as D,F,h as H,t as R,x as W,y as G}from"./index-0d5f141a.js";function M(t){return z()?($(t),!0):!1}function T(t){return typeof t=="function"?t():x(t)}const j=typeof window<"u"&&typeof document<"u",U=Object.prototype.toString,Q=t=>U.call(t)==="[object Object]",E=()=>{},J=K();function K(){var t;return j&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function b(t){var c;const a=T(t);return(c=a==null?void 0:a.$el)!=null?c:a}const B=j?window:void 0;function k(...t){let c,a,n,u;if(typeof t[0]=="string"||Array.isArray(t[0])?([a,n,u]=t,c=B):[c,a,n,u]=t,!c)return E;Array.isArray(a)||(a=[a]),Array.isArray(n)||(n=[n]);const h=[],p=()=>{h.forEach(l=>l()),h.length=0},d=(l,o,e,s)=>(l.addEventListener(o,e,s),()=>l.removeEventListener(o,e,s)),f=I(()=>[b(c),T(u)],([l,o])=>{if(p(),!l)return;const e=Q(o)?{...o}:o;h.push(...a.flatMap(s=>n.map(i=>d(l,s,i,e))))},{immediate:!0,flush:"post"}),m=()=>{f(),p()};return M(m),m}let O=!1;function X(t,c,a={}){const{window:n=B,ignore:u=[],capture:h=!0,detectIframe:p=!1}=a;if(!n)return;J&&!O&&(O=!0,Array.from(n.document.body.children).forEach(e=>e.addEventListener("click",E)),n.document.documentElement.addEventListener("click",E));let d=!0;const f=e=>u.some(s=>{if(typeof s=="string")return Array.from(n.document.querySelectorAll(s)).some(i=>i===e.target||e.composedPath().includes(i));{const i=b(s);return i&&(e.target===i||e.composedPath().includes(i))}}),l=[k(n,"click",e=>{const s=b(t);if(!(!s||s===e.target||e.composedPath().includes(s))){if(e.detail===0&&(d=!f(e)),!d){d=!0;return}c(e)}},{passive:!0,capture:h}),k(n,"pointerdown",e=>{const s=b(t);s&&(d=!e.composedPath().includes(s)&&!f(e))},{passive:!0}),p&&k(n,"blur",e=>{setTimeout(()=>{var s;const i=b(t);((s=n.document.activeElement)==null?void 0:s.tagName)==="IFRAME"&&!(i!=null&&i.contains(n.document.activeElement))&&c(e)},0)})].filter(Boolean);return()=>l.forEach(e=>e())}const Y={class:"search-box"},Z={key:0,class:"bg-blur"},ee=["src"],te=["onClick"],se=["src"],ne={__name:"SearchBox",setup(t){const{useSystemStore:c}=L(),a=N([{label:"百度",value:"https://www.baidu.com",icon:"./images/icons/baidu.png"},{label:"谷歌",value:"https://www.google.com",icon:"./images/icons/guge.png"},{label:"必应",value:"https://cn.bing.com",icon:"./images/icons/bing.png"},{label:"知乎",value:"https://www.zhihu.com",icon:"./images/icons/zhihu.png"},{label:"掘金",value:"https://juejin.cn",icon:"./images/icons/juejin.png"},{label:"博客园",value:"https://zzk.cnblogs.com",icon:"./images/icons/bokeyuan.png"},{label:"CSDN",value:"https://so.csdn.net/so",icon:"./images/icons/csdn.png"},{label:"GitHub",value:"https://github.com",icon:"./images/icons/github.png"},{label:"Gitee",value:"https://search.gitee.com",icon:"./images/icons/gitee.png"},{label:"Bilibili",value:"https://search.bilibili.com/all",icon:"./images/icons/bilibili.png"}]),n=v(null),u=v(!1),h=v(c.searchType),p=v(""),d=v(!1);X(n,()=>{u.value=!1});const f=()=>{u.value=!0},m=o=>{h.value=o.value,u.value=!1,c.searchType=o.value},l=()=>{const o=h.value;if(!p.value)window.open(o,"_blank");else{let e="/s?wd=";["https://www.google.com","https://www.zhihu.com","https://so.csdn.net/so","https://cn.bing.com","https://github.com"].indexOf(o)>=0?e="/search?q=":["https://juejin.cn"].indexOf(o)>=0?e="/search?query=":["https://zzk.cnblogs.com"].indexOf(o)>=0?e="/s?w=":["https://search.gitee.com"].indexOf(o)>=0?e="/?q=":["https://search.bilibili.com/all"].indexOf(o)>=0&&(e="/?keyword="),window.open(`${o}${e}${p.value}`,"_blank"),p.value=""}};return(o,e)=>{const s=C("a-tooltip"),i=C("a-input");return _(),g("div",Y,[d.value?(_(),g("div",Z)):P("",!0),y(i,{class:"search",value:p.value,"onUpdate:value":e[0]||(e[0]=r=>p.value=r),placeholder:"请输入搜索内容",onFocus:e[1]||(e[1]=r=>d.value=!0),onBlur:e[2]||(e[2]=r=>d.value=!1),onPressEnter:l},{addonBefore:w(()=>[y(s,{title:"点击切换搜索源"},{default:w(()=>[S("img",{src:a.find(r=>r.value===x(c).searchType).icon,alt:"",onClick:f},null,8,ee)]),_:1})]),suffix:w(()=>[y(x(V),{onClick:l,style:{fontSize:"18px"}})]),_:1},8,["value"]),q(S("div",{ref_key:"searchTypeRef",ref:n,class:"search-types bf"},[(_(!0),g(F,null,H(a,r=>(_(),g("div",{class:R(["search-type",{active:h.value===r.value}]),key:r.value,onClick:ie=>m(r)},[S("img",{src:r.icon,alt:""},null,8,se),W(" "+G(r.label),1)],10,te))),128))],512),[[D,u.value]])])}}},oe=A(ne,[["__scopeId","data-v-93ce28a4"]]);const ae={class:"home"},ce={__name:"Home",setup(t){return(c,a)=>(_(),g("div",ae,[y(oe)]))}},re=A(ce,[["__scopeId","data-v-3e21ac0d"]]);export{re as default};
