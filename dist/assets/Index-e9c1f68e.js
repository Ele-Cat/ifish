import{a as v}from"./axios-21b846bc.js";import{_ as y,y as C,h as V,r as _,o as e,j as i,c as d,z as $,d as o,F as p,k as b,D as c,C as B,e as f,R as I,L as N,i as L,a as R,E as g}from"./index-36c0e35a.js";const j={class:"news"},z={class:"news-box"},D={class:"news-title"},E=["title"],O={key:0},S=["href","title"],q={__name:"Index",setup(A){const n=C([{label:"知乎热议",value:"zhihu",datas:[],isFetching:!0},{label:"百度热搜",value:"baidu",datas:[],isFetching:!0},{label:"抖音热搜",value:"douyin",datas:[],isFetching:!0},{label:"微博热搜",value:"weibo",datas:[],isFetching:!0},{label:"b站热搜",value:"bilibili",datas:[],isFetching:!0},{label:"贴吧热议",value:"tieba",datas:[],isFetching:!0},{label:"头条热搜",value:"toutiao",datas:[],isFetching:!0},{label:"历史上的今天",value:"history",datas:[],isFetching:!0},{label:"52破解",value:"pojie52",datas:[],isFetching:!0}]),h=V(!1);v.get("https://api.moyuduck.com/hot/all").then(s=>{for(const l in s.data.data)n.map(t=>{t.value===l&&(t.datas=s.data.data[l]),t.isFetching=!1});h.value=!0});const k=s=>{n.map(l=>{l.value===s&&(l.isFetching=!0)}),v.get(`https://api.moyuduck.com/hot/top?type=${s}`).then(l=>{n.map(t=>{t.value===s&&(t.datas=l.data.data,t.isFetching=!1,g({content:`${t.label}拉取成功`}))})}).catch(()=>{g({content:"拉取失败",type:"error"})})};return(s,l)=>{const t=_("a-spin"),F=_("a-empty"),x=_("perfect-scrollbar");return e(),i("div",j,[s.isFetching&&!h.value?(e(),d(t,{key:0})):$("",!0),o("div",z,[(e(!0),i(p,null,b(n,a=>(e(),i("div",{class:"news-item bf",key:a.key},[o("div",D,[o("p",null,c(a.label),1),o("p",{title:`更新时间${a.datas.time}`},[B(c(a.datas.time),1),a.isFetching?(e(),d(f(N),{key:1,title:"拉取中..."})):(e(),d(f(I),{key:0,title:`拉取最新${a.label}`,onClick:u=>k(a.value)},null,8,["title","onClick"]))],8,E)]),L(x,{class:"scroll-bar"},{default:R(()=>{var u;return[(u=a.datas.hotTops)!=null&&u.length?(e(),i("div",O,[(e(!0),i(p,null,b(a.datas.hotTops,(r,m)=>(e(),i("a",{class:"news-info",key:m,href:r.url,title:r.title,target:"_blank"},[o("span",null,c(m+1)+"."+c(r.title),1),o("span",null,c(r.hotValue),1)],8,S))),128))])):(e(),d(F,{key:1,description:"暂无数据"}))]}),_:2},1024)]))),128))])])}}},J=y(q,[["__scopeId","data-v-79c8740e"]]);export{J as default};
