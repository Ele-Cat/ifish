import{j as n,A as P,r as i,h as _,B as L,k as o,q as t,u as r,S as U,y as v,z as h,Q as $,C as D,i as b,F as V,s as A,x as E,l as F,T as H}from"./index-a8a3ac03.js";import{_ as T,u as q}from"./App-c5c44e09.js";import{d as Q}from"./utils-7dc22624.js";var R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"};const G=R;function O(c){for(var s=1;s<arguments.length;s++){var e=arguments[s]!=null?Object(arguments[s]):{},l=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(e).filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable}))),l.forEach(function(u){J(c,u,e[u])})}return c}function J(c,s,e){return s in c?Object.defineProperty(c,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):c[s]=e,c}var g=function(s,e){var l=O({},s,e.attrs);return n(P,O({},l,{icon:G}),null)};g.displayName="UnorderedListOutlined";g.inheritAttrs=!1;const W=g;const X={class:"music-box"},Y={class:"title"},Z={class:"music-list"},K=["onClick"],ee={class:"music-cover"},te=["src"],se={class:"music-info"},ne=["onClick"],oe=["onClick"],ce=["onClick"],ae={__name:"MusicList",props:{open:{type:Boolean,default:!1}},emits:["close","showSearch"],setup(c,{emit:s}){const{useMusicStore:e}=q(),l=()=>{s("close")},u=()=>{s("showSearch")},w=()=>{e.musicList=[]},y=a=>{e.playMusic(a)},k=a=>{a<e.activeIndex?(e.musicList.splice(a,1),e.activeIndex--):(a===e.activeIndex&&(e.settings.currentTime=0,e.activeIndex===e.musicList.length-1&&(e.activeIndex=0),e.activeIndex++,e.activeIndex--),e.musicList.splice(a,1))},S=a=>{Q(a.url)};return(a,C)=>{const x=i("a-input"),I=i("a-popconfirm"),j=i("a-empty"),m=i("a-menu-item"),z=i("a-menu"),M=i("a-dropdown"),B=i("perfect-scrollbar"),N=i("a-drawer");return _(),L(N,{width:"360px",title:"播放列表",placement:"right",open:c.open,onClose:l,rootClassName:"disclaimers-root"},{default:o(()=>[t("div",X,[n(x,{onClick:u,readonly:"",placeholder:"搜索",style:{"border-radius":"20px"}},{prefix:o(()=>[n(r(U))]),_:1}),t("div",null,[t("p",Y,[t("span",null,[n(r(W)),v("播放列表（共 "+h(r(e).musicList.length)+" 首）",1)]),n(I,{title:"确认清空列表？",onConfirm:w},{default:o(()=>[t("span",null,[n(r($)),v("清空列表")])]),_:1})]),r(e).musicList.length?D("",!0):(_(),L(j,{key:0,class:"list-empty"},{description:o(()=>[t("span",{class:"description"},[v(" 暂无歌曲，请"),t("a",{onClick:u},"搜索添加")])]),_:1})),n(B,{class:"scroll-bar"},{default:o(()=>[t("div",Z,[(_(!0),b(V,null,A(r(e).musicList,(p,d)=>(_(),b("div",{class:E(["music-item",{active:r(e).activeIndex===d}]),key:d,onClick:f=>y(d)},[t("div",ee,[t("img",{src:p.cover,onerror:"this.src='./images/music.png'",alt:""},null,8,te)]),t("div",se,[t("p",null,h(p.name),1),t("span",null,h(p.singer),1)]),t("div",{class:"music-action",onClick:C[0]||(C[0]=F(()=>{},["stop"]))},[n(M,{placement:"bottomLeft",arrow:""},{overlay:o(()=>[n(z,null,{default:o(()=>[n(m,null,{default:o(()=>[t("a",{href:"javascript:;",onClick:f=>y(d)},"播放",8,ne)]),_:2},1024),n(m,null,{default:o(()=>[t("a",{href:"javascript:;",onClick:f=>k(d)},"移除",8,oe)]),_:2},1024),n(m,null,{default:o(()=>[t("a",{href:"javascript:;",onClick:f=>S(p)},"下载",8,ce)]),_:2},1024)]),_:2},1024)]),default:o(()=>[n(r(H))]),_:2},1024)])],10,K))),128))])]),_:1})])])]),_:1},8,["open"])}}},ue=T(ae,[["__scopeId","data-v-5a8bf248"]]);export{ue as default};
