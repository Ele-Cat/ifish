import{_ as I,u as K,a as N,t as C}from"./App-810bc842.js";import{q as f,J as F,w as S,r as o,h as e,i as l,j as h,k as y,F as k,t as w,C as b,s as V,B as g}from"./index-b6bd2871.js";const $={class:"news bf"},D={key:2},L=["href","title"],j={__name:"Index",setup(q){const{useNewsStore:x}=K(),c=f(0),_=F(()=>x.lists.filter(s=>s.visible)),a=f(!1),u=f([]),B=()=>{const s="https://root.zhuayuya.com:8081/get_hot/?name=",n=_.value[c.value].label,i=`${s}${n}`;a.value=!0,N.get(i).then(p=>{const{data:v}=p;u.value=v.sort((d,m)=>m.hot-d.hot),C({content:`${n}拉取成功！`}),a.value=!1}).catch(()=>{a.value=!1})};return S(()=>[c.value,_.value],s=>{B()},{immediate:!0}),(s,n)=>{const i=o("a-tab-pane"),p=o("a-tabs"),v=o("a-spin"),d=o("a-empty"),m=o("perfect-scrollbar");return e(),l("div",$,[h(p,{activeKey:c.value,"onUpdate:activeKey":n[0]||(n[0]=t=>c.value=t),animated:""},{default:y(()=>[(e(!0),l(k,null,w(_.value,(t,r)=>(e(),b(i,{key:r,tab:t.label},null,8,["tab"]))),128))]),_:1},8,["activeKey"]),h(m,{class:"scroll-bar"},{default:y(()=>[a.value?(e(),b(v,{key:0,tip:"加载中..."})):!a.value&&!u.value.length?(e(),b(d,{key:1,description:"暂无数据"})):(e(),l("div",D,[(e(!0),l(k,null,w(u.value,(t,r)=>(e(),l("a",{class:"news-info",key:r,href:t.link,title:t.title,target:"_blank"},[V("span",null,g(r+1)+"."+g(t.title),1)],8,L))),128))]))]),_:1})])}}},J=I(j,[["__scopeId","data-v-b08e8145"]]);export{J as default};
