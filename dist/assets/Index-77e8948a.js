import{c as i,A as N,_ as q,u as Y,a as J,r as L,w as K,n as Q,b as g,o as m,d as y,e as a,f as D,g as o,h as F,t as P,i as d,j as A,k as H,l as ye,v as be,S as fe,F as ee,m as te,p as _e,E as ge,D as Oe,C as Ce,q as W,s as $e,x as xe,y as Le,z as Se}from"./index-ba21ce84.js";import{s as X,g as we,d as he,u as Z}from"./utils-5dfaf7e4.js";var Pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"};const Ie=Pe;function ce(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},s=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(e).filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),s.forEach(function(l){Me(n,l,e[l])})}return n}function Me(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var ne=function(t,e){var s=ce({},t,e.attrs);return i(N,ce({},s,{icon:Ie}),null)};ne.displayName="MenuUnfoldOutlined";ne.inheritAttrs=!1;const ke=ne;var je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"};const ze=je;function re(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},s=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(e).filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),s.forEach(function(l){Ve(n,l,e[l])})}return n}function Ve(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var se=function(t,e){var s=re({},t,e.attrs);return i(N,re({},s,{icon:ze}),null)};se.displayName="PauseCircleOutlined";se.inheritAttrs=!1;const De=se;var He={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"};const Ne=He;function ue(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},s=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(e).filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),s.forEach(function(l){Te(n,l,e[l])})}return n}function Te(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var ie=function(t,e){var s=ue({},t,e.attrs);return i(N,ue({},s,{icon:Ne}),null)};ie.displayName="PlayCircleOutlined";ie.inheritAttrs=!1;const Re=ie;var Ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"};const Ae=Ue;function de(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},s=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(e).filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),s.forEach(function(l){Ee(n,l,e[l])})}return n}function Ee(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var le=function(t,e){var s=de({},t,e.attrs);return i(N,de({},s,{icon:Ae}),null)};le.displayName="UnorderedListOutlined";le.inheritAttrs=!1;const Be=le;var Fe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M762 164h-64c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V172c0-4.4-3.6-8-8-8zm-508 0v72.4c0 9.5 4.2 18.4 11.4 24.5L564.6 512 265.4 763.1c-7.2 6.1-11.4 15-11.4 24.5V860c0 6.8 7.9 10.5 13.1 6.1L689 512 267.1 157.9A7.95 7.95 0 00254 164z"}}]},name:"vertical-left",theme:"outlined"};const qe=Fe;function ve(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},s=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(e).filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),s.forEach(function(l){Ye(n,l,e[l])})}return n}function Ye(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var ae=function(t,e){var s=ve({},t,e.attrs);return i(N,ve({},s,{icon:qe}),null)};ae.displayName="VerticalLeftOutlined";ae.inheritAttrs=!1;const Ge=ae;var Je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M326 164h-64c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V172c0-4.4-3.6-8-8-8zm444 72.4V164c0-6.8-7.9-10.5-13.1-6.1L335 512l421.9 354.1c5.2 4.4 13.1.7 13.1-6.1v-72.4c0-9.4-4.2-18.4-11.4-24.5L459.4 512l299.2-251.1c7.2-6.1 11.4-15.1 11.4-24.5z"}}]},name:"vertical-right",theme:"outlined"};const Qe=Je;function pe(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},s=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(e).filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),s.forEach(function(l){We(n,l,e[l])})}return n}function We(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var oe=function(t,e){var s=pe({},t,e.attrs);return i(N,pe({},s,{icon:Qe}),null)};oe.displayName="VerticalRightOutlined";oe.inheritAttrs=!1;const Xe=oe;const Ze={class:"music-box"},Ke={key:0,class:"info"},et={key:1,class:"info"},tt=["src"],nt={class:"center"},st={class:"prev-next"},it={class:"progress-box"},lt={class:"ctrl"},at=["title"],ot={class:"mode"},ct=["src","loop"],rt={__name:"MusicCtrl",emits:["toggleMusicList","showSearch"],setup(n,{emit:t}){const{useMusicStore:e}=Y(),s=()=>{t("toggleMusicList")},l=()=>{t("showSearch")},S=J(()=>({listCycle:"列表循环",singleCycle:"单曲循环",randomPlay:"随机播放"})[e.settings.mode]),w=c=>{e.changeMode(c)},h=c=>{e.toggleMute(c)},f=L({}),O=L(0),I=L(1e3),b=L(null);K(()=>[e.activeIndex,e.settings.playing],()=>{f.value=e.musicList[e.activeIndex],Q(()=>{b.value&&(I.value=parseInt(b.value.duration),b.value.volume=e.settings.volume/100,e.settings.playing&&b.value.play())})},{immediate:!0,deep:!0});const k=()=>{I.value=parseInt(b.value.duration),O.value=b.value.currentTime=e.settings.currentTime},T=c=>{const{currentTime:u,duration:M}=c.target;O.value=e.settings.currentTime=parseInt(u),I.value=parseInt(M)},R=c=>X(c),U=c=>{e.settings.currentTime=c,b.value&&Q(()=>{b.value.currentTime=c})};K(()=>[e.settings.volume,e.settings.mute],()=>{b.value&&Q(()=>{b.value.volume=e.settings.volume/100,b.value.muted=e.settings.mute})},{immediate:!0,deep:!0});const j=()=>{!e.musicList.length||e.activeIndex<0||(e.settings.playing=!0,b.value.play())},r=()=>{!e.musicList.length||e.activeIndex<0||(e.settings.playing=!1,b.value.pause())},v=J(()=>{if(!e.musicList.length||e.activeIndex<0)return"";let c=e.activeIndex===0?e.musicList.length-1:e.activeIndex-1;return e.musicList[c]?e.musicList[c].name:""}),_=()=>{if(!e.musicList.length||e.activeIndex<0)return;let c=e.activeIndex===0?e.musicList.length-1:e.activeIndex-1;e.playMusic(c)},$=J(()=>{if(!e.musicList.length||e.activeIndex<0)return"";let c=e.activeIndex===e.musicList.length-1?0:e.activeIndex+1;return e.musicList[c]?e.musicList[c].name:""}),x=()=>{if(!e.musicList.length||e.activeIndex<0)return;let c=e.activeIndex===e.musicList.length-1?0:e.activeIndex+1;e.playMusic(c)},C=()=>{e.settings.mode==="listCycle"?(e.musicList.length===1&&(e.activeIndex--,e.activeIndex++),x()):e.settings.mode==="singleCycle"?e.playMusic(e.activeIndex):e.settings.mode==="randomPlay"&&e.playMusic(we(0,e.musicList.length-1,e.activeIndex))};return(c,u)=>{var B;const M=g("a-tooltip"),E=g("a-slider"),G=g("a-divider");return m(),y("div",Ze,[a(e).musicList.length?(m(),y("div",et,[o("img",{class:F(["cover",{playing:a(e).settings.playing}]),src:f.value.cover,onerror:"this.src='./images/music.png'",alt:""},null,10,tt),D(" "+P(f.value.name)+" - "+P(f.value.singer),1)])):(m(),y("div",Ke,[D(" 暂无音乐，请选择"),o("span",{class:"add",onClick:l},"添加")])),o("div",nt,[o("div",st,[i(M,{title:`上一首${v.value?"：":""}${v.value}`},{default:d(()=>[i(a(Xe),{onClick:_})]),_:1},8,["title"]),i(M,{title:a(e).settings.playing?"点击暂停":"点击播放"},{default:d(()=>[a(e).settings.playing?(m(),A(a(De),{key:1,class:"pause",onClick:r})):(m(),A(a(Re),{key:0,class:"play",onClick:j}))]),_:1},8,["title"]),i(M,{title:`下一首${$.value?"：":""}${$.value}`},{default:d(()=>[i(a(Ge),{onClick:x})]),_:1},8,["title"])]),o("div",it,[o("p",null,P(a(X)(O.value)),1),i(E,{class:"play-slider",min:0,max:I.value,onChange:U,value:O.value,"onUpdate:value":u[0]||(u[0]=p=>O.value=p),tipFormatter:R},null,8,["max","value"]),o("p",null,P(a(X)(I.value)),1)])]),o("div",lt,[o("div",{class:"volume",title:`当前音量：${a(e).settings.volume}`},[a(e).settings.mute||a(e).settings.volume===0?(m(),y("i",{key:0,class:"ifishfont ifish-volumeDisable",onClick:u[1]||(u[1]=p=>h(!0))})):a(e).settings.volume>=0&&a(e).settings.volume<30?(m(),y("i",{key:1,class:"ifishfont ifish-volumeLow",onClick:u[2]||(u[2]=p=>h(!1))})):a(e).settings.volume>=30&&a(e).settings.volume<60?(m(),y("i",{key:2,class:"ifishfont ifish-volumeMiddle",onClick:u[3]||(u[3]=p=>h(!1))})):(m(),y("i",{key:3,class:"ifishfont ifish-volumeHigh",onClick:u[4]||(u[4]=p=>h(!1))})),i(E,{class:"volume-slider",min:0,max:100,value:a(e).settings.volume,"onUpdate:value":u[5]||(u[5]=p=>a(e).settings.volume=p)},null,8,["value"])],8,at),o("div",ot,[i(M,{title:S.value},{default:d(()=>[a(e).settings.mode==="listCycle"?(m(),y("i",{key:0,class:"ifishfont ifish-musicListLoop",title:"列表循环",onClick:u[6]||(u[6]=p=>w("singleCycle"))})):H("",!0),a(e).settings.mode==="singleCycle"?(m(),y("i",{key:1,class:"ifishfont ifish-musicSingleCycle",title:"单曲循环",onClick:u[7]||(u[7]=p=>w("randomPlay"))})):H("",!0),a(e).settings.mode==="randomPlay"?(m(),y("i",{key:2,class:"ifishfont ifish-musicRandomPlay",title:"随机播放",onClick:u[8]||(u[8]=p=>w("listCycle"))})):H("",!0)]),_:1},8,["title"])]),i(G,{type:"vertical"}),i(M,{title:"播放列表",placement:"topRight"},{default:d(()=>[i(a(ke),{onClick:s})]),_:1}),ye(o("audio",{ref_key:"audioRef",ref:b,controls:"",src:(B=f.value)==null?void 0:B.url,loop:a(e).settings.mode==="singleCycle",onTimeupdate:T,onLoadeddata:k,onEnded:C,onError:C},null,40,ct),[[be,!1]])])])}}},ut=q(rt,[["__scopeId","data-v-175aa900"]]);const dt={class:"music-box"},vt={class:"title"},pt={class:"music-list"},mt=["onClick"],ft={class:"music-cover"},_t=["src"],gt={class:"music-info"},ht=["onClick"],yt=["onClick"],bt=["onClick"],Ot={__name:"MusicList",props:{open:{type:Boolean,default:!1}},emits:["close","showSearch"],setup(n,{emit:t}){const{useMusicStore:e}=Y(),s=()=>{t("close")},l=()=>{t("showSearch")},S=f=>{e.playMusic(f)},w=f=>{f<e.activeIndex?(e.musicList.splice(f,1),e.activeIndex--):(f===e.activeIndex&&(e.settings.currentTime=0,e.activeIndex===e.musicList.length-1&&(e.activeIndex=0),e.activeIndex++,e.activeIndex--),e.musicList.splice(f,1))},h=f=>{he(f.url)};return(f,O)=>{const I=g("a-input"),b=g("a-empty"),k=g("a-menu-item"),T=g("a-menu"),R=g("a-dropdown"),U=g("perfect-scrollbar"),j=g("a-drawer");return m(),A(j,{width:"360px",title:"播放列表",placement:"right",open:n.open,onClose:s,rootClassName:"disclaimers-root"},{default:d(()=>[o("div",dt,[i(I,{onClick:l,readonly:"",placeholder:"搜索",style:{"border-radius":"20px"}},{prefix:d(()=>[i(a(fe))]),_:1}),o("div",null,[o("p",vt,[i(a(Be)),D("播放列表（共 "+P(a(e).musicList.length)+" 首） ",1)]),a(e).musicList.length?H("",!0):(m(),A(b,{key:0,description:"暂无歌曲，请搜索添加"})),i(U,{class:"scroll-bar"},{default:d(()=>[o("div",pt,[(m(!0),y(ee,null,te(a(e).musicList,(r,v)=>(m(),y("div",{class:F(["music-item",{active:a(e).activeIndex===v}]),key:v,onClick:_=>S(v)},[o("div",ft,[o("img",{src:r.cover,onerror:"this.src='./images/music.png'",alt:""},null,8,_t)]),o("div",gt,[o("p",null,P(r.name),1),o("span",null,P(r.singer),1)]),o("div",{class:"music-action",onClick:O[0]||(O[0]=_e(()=>{},["stop"]))},[i(R,{placement:"bottomLeft",arrow:""},{overlay:d(()=>[i(T,null,{default:d(()=>[i(k,null,{default:d(()=>[o("a",{href:"javascript:;",onClick:_=>S(v)},"播放",8,ht)]),_:2},1024),i(k,null,{default:d(()=>[o("a",{href:"javascript:;",onClick:_=>w(v)},"移除",8,yt)]),_:2},1024),i(k,null,{default:d(()=>[o("a",{href:"javascript:;",onClick:_=>h(r)},"下载",8,bt)]),_:2},1024)]),_:2},1024)]),default:d(()=>[i(a(ge))]),_:2},1024)])],10,mt))),128))])]),_:1})])])]),_:1},8,["open"])}}},Ct=q(Ot,[["__scopeId","data-v-3d95bc91"]]);const $t=n=>($e("data-v-2f05ab74"),n=n(),xe(),n),xt={class:"search"},Lt={key:0,class:"search-history"},St={class:"title"},wt={class:"search-history-box"},Pt=["onClick"],It={class:"text",title:"点击搜索"},Mt={class:"search-list"},kt=$t(()=>o("p",{class:"title"},"搜索结果：",-1)),jt=["onClick"],zt={title:"立即播放"},Vt={class:"search-action"},Dt=["onClick"],Ht=["onClick"],Nt=["onClick"],Tt=["onClick"],me=15,Rt={__name:"MusicSearch",setup(n){const{useMusicStore:t}=Y(),e=L(""),s=L([]),l=L(!1),S=r=>{t.searchHistory.indexOf(r)<0&&t.searchHistory.unshift(r),f(r)};let w=L(1),h=L(!1);const f=r=>{e.value=r,l.value=!0;const v=`https://api.lolimi.cn/API/qqdg/api.php?msg=${r}&p=${w.value}&sc=${me}`;W.get(v).then(_=>{_.data.code===1?(s.value=[...s.value,..._.data.data],_.data.data.length<me&&(h.value=!0)):h.value=!0,l.value=!1})},O=r=>{if(h.value)return;let v=r.target;v.scrollTop+v.clientHeight>=v.scrollHeight&&(w.value++,f(e.value))},I=()=>{t.searchHistory=[]},b=r=>{const v=t.searchHistory.indexOf(r);t.searchHistory.splice(v,1)},k=async(r,v)=>{const{cover:_,name:$,singer:x,url:C,content:c}=await j(r);t.musicList.push({id:Z(21),cover:_,name:$,singer:x,url:C,content:c}),t.playMusic(t.musicList.length-1)},T=async(r,v)=>{const{cover:_,name:$,singer:x,url:C,content:c}=await j(r);t.musicList.push({id:Z(21),cover:_,name:$,singer:x,url:C,content:c})},R=async(r,v)=>{const{cover:_,name:$,singer:x,url:C,content:c}=await j(r);t.musicList.splice(t.activeIndex+1,0,{id:Z(21),cover:_,name:$,singer:x,url:C,content:c})},U=async(r,v)=>{const{url:_}=await j(r);_&&he(_)},j=async(r,v)=>{const _=new Promise((C,c)=>{W.get(`https://xiaoapi.cn/API/yy_sq.php?msg=${r.song}-${r.singer}&n=1`).then(u=>{u.data.code===200?C(u.data):c()})}),$=new Promise((C,c)=>{W.get(`https://api.lolimi.cn/API/kggc/api.php?msg=${r.song}-${r.singer}&n=1`).then(u=>{u.data.code===1?C(u.data.data):c()})}),x=await Promise.all([_,$]);return{...x[0],...x[1]}};return(r,v)=>{const _=g("a-input"),$=g("a-col"),x=g("a-button"),C=g("a-row"),c=g("a-empty"),u=g("a-menu-item"),M=g("a-menu"),E=g("a-dropdown"),G=g("perfect-scrollbar"),B=g("a-spin");return m(),y("div",xt,[i(C,{gutter:12},{default:d(()=>[i($,{span:20},{default:d(()=>[i(_,{value:e.value,"onUpdate:value":v[0]||(v[0]=p=>e.value=p),onPressEnter:v[1]||(v[1]=p=>S(p.target.value)),placeholder:"输入歌曲、歌手",allowClear:"",style:{"border-radius":"16px"}},{prefix:d(()=>[i(a(fe))]),_:1},8,["value"])]),_:1}),i($,{span:3},{default:d(()=>[i(x,{type:"primary",shape:"round",onClick:v[2]||(v[2]=p=>S(e.value))},{default:d(()=>[D("搜索")]),_:1})]),_:1})]),_:1}),a(t).searchHistory.length?(m(),y("div",Lt,[o("p",St,[D(" 搜索历史： "),o("span",{class:"clear",onClick:I},[i(a(Oe)),D("清空历史搜索")])]),o("div",wt,[(m(!0),y(ee,null,te(a(t).searchHistory,(p,z)=>(m(),y("p",{key:z,onClick:V=>f(p)},[o("span",It,P(p),1),i(a(Ce),{title:"点击移除",onClick:_e(V=>b(p),["stop"])},null,8,["onClick"])],8,Pt))),128))])])):H("",!0),o("div",Mt,[kt,i(B,{spinning:l.value,tip:"加载中..."},{default:d(()=>[i(G,{class:"scroll-bar",onPsScrollY:O},{default:d(()=>[s.value.length?H("",!0):(m(),A(c,{key:0})),o("ul",null,[(m(!0),y(ee,null,te(s.value,(p,z)=>(m(),y("li",{key:z,onClick:V=>k(p,z)},[o("p",zt,P(p.song)+" - "+P(p.singers),1),o("div",Vt,[i(E,{placement:"bottomLeft",arrow:""},{overlay:d(()=>[i(M,null,{default:d(()=>[i(u,null,{default:d(()=>[o("a",{href:"javascript:;",onClick:V=>T(p,z)},"添加到播放列表",8,Dt)]),_:2},1024),i(u,null,{default:d(()=>[o("a",{href:"javascript:;",onClick:V=>k(p,z)},"立即播放",8,Ht)]),_:2},1024),i(u,null,{default:d(()=>[o("a",{href:"javascript:;",onClick:V=>R(p,z)},"下一首播放",8,Nt)]),_:2},1024),i(u,null,{default:d(()=>[o("a",{href:"javascript:;",onClick:V=>U(p,z)},"下载",8,Tt)]),_:2},1024)]),_:2},1024)]),default:d(()=>[i(a(ge))]),_:2},1024)])],8,jt))),128))])]),_:1})]),_:1},8,["spinning"])])])}}},Ut=q(Rt,[["__scopeId","data-v-2f05ab74"]]);const At={class:"music"},Et=["title"],Bt={__name:"Index",setup(n){const{useMusicStore:t}=Y();Le(()=>{t.settings.playing=!1});const e=()=>{t.toggleVisible()},s=L(!1);K(()=>t.visible,w=>{},{immediate:!0});const l=L(!1),S=()=>{l.value=!0};return(w,h)=>{const f=g("IDialog");return m(),y("div",At,[o("div",{class:F(["toggle-icon bf",[a(t).visible?"down":"up"]]),title:a(t).visible?"关闭播放器":"打开播放器",onClick:e},[i(a(Se))],10,Et),o("div",{class:F(["music-ctrl bf",[a(t).visible?"show":""]])},[i(ut,{onShowSearch:S,onToggleMusicList:h[0]||(h[0]=O=>s.value=!s.value)})],2),i(Ct,{open:s.value,onShowSearch:S,onClose:h[1]||(h[1]=O=>s.value=!1)},null,8,["open"]),i(f,{title:"搜索音乐",visible:l.value,zIndex:1002,onOk:h[2]||(h[2]=O=>l.value=!1),onCancel:h[3]||(h[3]=O=>l.value=!1)},{default:d(()=>[i(Ut)]),_:1},8,["visible"])])}}},Yt=q(Bt,[["__scopeId","data-v-479548fa"]]);export{Yt as default};
