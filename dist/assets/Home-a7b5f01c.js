import{g as z,o as $,u as w,w as I,_ as A,a as L,r as N,b as v,c as C,d as _,e as g,f as P,h as y,i as S,j as k,S as V,k as D,v as F,F as q,l as H,n as M,m as R,t as W}from"./index-0163778e.js";function G(t){return z()?($(t),!0):!1}function T(t){return typeof t=="function"?t():w(t)}const j=typeof window<"u"&&typeof document<"u",U=Object.prototype.toString,Q=t=>U.call(t)==="[object Object]",E=()=>{},J=K();function K(){var t;return j&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function b(t){var a;const c=T(t);return(a=c==null?void 0:c.$el)!=null?a:c}const B=j?window:void 0;function x(...t){let a,c,n,u;if(typeof t[0]=="string"||Array.isArray(t[0])?([c,n,u]=t,a=B):[a,c,n,u]=t,!a)return E;Array.isArray(c)||(c=[c]),Array.isArray(n)||(n=[n]);const h=[],d=()=>{h.forEach(l=>l()),h.length=0},p=(l,o,e,s)=>(l.addEventListener(o,e,s),()=>l.removeEventListener(o,e,s)),f=I(()=>[b(a),T(u)],([l,o])=>{if(d(),!l)return;const e=Q(o)?{...o}:o;h.push(...c.flatMap(s=>n.map(i=>p(l,s,i,e))))},{immediate:!0,flush:"post"}),m=()=>{f(),d()};return G(m),m}let O=!1;function X(t,a,c={}){const{window:n=B,ignore:u=[],capture:h=!0,detectIframe:d=!1}=c;if(!n)return;J&&!O&&(O=!0,Array.from(n.document.body.children).forEach(e=>e.addEventListener("click",E)),n.document.documentElement.addEventListener("click",E));let p=!0;const f=e=>u.some(s=>{if(typeof s=="string")return Array.from(n.document.querySelectorAll(s)).some(i=>i===e.target||e.composedPath().includes(i));{const i=b(s);return i&&(e.target===i||e.composedPath().includes(i))}}),l=[x(n,"click",e=>{const s=b(t);if(!(!s||s===e.target||e.composedPath().includes(s))){if(e.detail===0&&(p=!f(e)),!p){p=!0;return}a(e)}},{passive:!0,capture:h}),x(n,"pointerdown",e=>{const s=b(t);s&&(p=!e.composedPath().includes(s)&&!f(e))},{passive:!0}),d&&x(n,"blur",e=>{setTimeout(()=>{var s;const i=b(t);((s=n.document.activeElement)==null?void 0:s.tagName)==="IFRAME"&&!(i!=null&&i.contains(n.document.activeElement))&&a(e)},0)})].filter(Boolean);return()=>l.forEach(e=>e())}const Y={class:"search-box"},Z={key:0,class:"bg-blur"},ee=["src"],te=["onClick"],se=["src"],ne={__name:"SearchBox",setup(t){const{useSystemStore:a}=L(),c=N([{label:"百度",value:"https://www.baidu.com",icon:"./images/icons/baidu.png"},{label:"谷歌",value:"https://www.google.com",icon:"./images/icons/guge.png"},{label:"必应",value:"https://cn.bing.com",icon:"./images/icons/bing.png"},{label:"知乎",value:"https://www.zhihu.com",icon:"./images/icons/zhihu.png"},{label:"掘金",value:"https://juejin.cn",icon:"./images/icons/juejin.png"},{label:"博客园",value:"https://zzk.cnblogs.com",icon:"./images/icons/bokeyuan.png"},{label:"CSDN",value:"https://so.csdn.net/so",icon:"./images/icons/csdn.png"},{label:"GitHub",value:"https://github.com",icon:"./images/icons/github.png"},{label:"Gitee",value:"https://search.gitee.com",icon:"./images/icons/gitee.png"},{label:"Bilibili",value:"https://search.bilibili.com/all",icon:"./images/icons/bilibili.png"}]),n=v(null),u=v(!1),h=v(a.searchType),d=v(""),p=v(!1);X(n,()=>{u.value=!1});const f=()=>{u.value=!0},m=o=>{h.value=o.label,u.value=!1,a.searchType=o.label},l=()=>{const o=h.value;if(!d.value)window.open(o,"_blank");else{let e="/s?wd=";["https://www.google.com","https://www.zhihu.com","https://so.csdn.net/so","https://cn.bing.com","https://github.com"].indexOf(o)>=0?e="/search?q=":["https://juejin.cn"].indexOf(o)>=0?e="/search?query=":["https://zzk.cnblogs.com"].indexOf(o)>=0?e="/s?w=":["https://search.gitee.com"].indexOf(o)>=0?e="/?q=":["https://search.bilibili.com/all"].indexOf(o)>=0&&(e="/?keyword="),window.open(`${o}${e}${d.value}`,"_blank"),d.value=""}};return(o,e)=>{const s=C("a-tooltip"),i=C("a-input");return _(),g("div",Y,[p.value?(_(),g("div",Z)):P("",!0),y(i,{class:"search",value:d.value,"onUpdate:value":e[0]||(e[0]=r=>d.value=r),placeholder:"请输入搜索内容",onFocus:e[1]||(e[1]=r=>p.value=!0),onBlur:e[2]||(e[2]=r=>p.value=!1),onPressEnter:l},{addonBefore:S(()=>[y(s,{title:"点击切换搜索源",color:w(a).darkMode?"black":"white"},{default:S(()=>[k("img",{src:c.find(r=>r.label===w(a).searchType).icon,alt:"",onClick:f},null,8,ee)]),_:1},8,["color"])]),suffix:S(()=>[y(w(V),{onClick:l,style:{fontSize:"18px"}})]),_:1},8,["value"]),D(k("div",{ref_key:"searchTypeRef",ref:n,class:"search-types bf"},[(_(!0),g(q,null,H(c,r=>(_(),g("div",{class:M(["search-type",{active:h.value===r.value}]),key:r.value,onClick:ie=>m(r)},[k("img",{src:r.icon,alt:""},null,8,se),R(" "+W(r.label),1)],10,te))),128))],512),[[F,u.value]])])}}},oe=A(ne,[["__scopeId","data-v-b5203937"]]);const ae={class:"home"},ce={__name:"Home",setup(t){return(a,c)=>(_(),g("div",ae,[y(oe)]))}},re=A(ce,[["__scopeId","data-v-3e21ac0d"]]);export{re as default};
