import{j as H,k as Q,u as R,l as J,t as K,m as Z,n as D,r as p,p as L,_ as U,q as ee,v as te,b as z,o as x,g as S,x as ne,f as C,w as A,e as k,S as se,y as oe,z as ae,F as j,h as G,A as le,B as ie,C as N,D as re,E as ce,c as ue,i as pe}from"./index-c10d0119.js";function ve(t){return H()?(Q(t),!0):!1}function w(t){return typeof t=="function"?t():R(t)}const q=typeof window<"u"&&typeof document<"u",de=Object.prototype.toString,fe=t=>de.call(t)==="[object Object]",M=()=>{},me=he();function he(){var t;return q&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function ge(t,l={}){if(!J(t))return K(t);const s=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const n in t.value)s[n]=Z(()=>({get(){return t.value[n]},set(u){var v;if((v=w(l.replaceRef))!=null?v:!0)if(Array.isArray(t.value)){const o=[...t.value];o[n]=u,t.value=o}else{const o={...t.value,[n]:u};Object.setPrototypeOf(o,Object.getPrototypeOf(t.value)),t.value=o}else t.value[n]=u}}));return s}function B(t){var l;const s=w(t);return(l=s==null?void 0:s.$el)!=null?l:s}const F=q?window:void 0;function E(...t){let l,s,n,u;if(typeof t[0]=="string"||Array.isArray(t[0])?([s,n,u]=t,l=F):[l,s,n,u]=t,!l)return M;Array.isArray(s)||(s=[s]),Array.isArray(n)||(n=[n]);const v=[],d=()=>{v.forEach(i=>i()),v.length=0},o=(i,r,e,a)=>(i.addEventListener(r,e,a),()=>i.removeEventListener(r,e,a)),m=D(()=>[B(l),w(u)],([i,r])=>{if(d(),!i)return;const e=fe(r)?{...r}:r;v.push(...s.flatMap(a=>n.map(f=>o(i,a,f,e))))},{immediate:!0,flush:"post"}),_=()=>{m(),d()};return ve(_),_}let W=!1;function _e(t,l,s={}){const{window:n=F,ignore:u=[],capture:v=!0,detectIframe:d=!1}=s;if(!n)return;me&&!W&&(W=!0,Array.from(n.document.body.children).forEach(e=>e.addEventListener("click",M)),n.document.documentElement.addEventListener("click",M));let o=!0;const m=e=>u.some(a=>{if(typeof a=="string")return Array.from(n.document.querySelectorAll(a)).some(f=>f===e.target||e.composedPath().includes(f));{const f=B(a);return f&&(e.target===f||e.composedPath().includes(f))}}),i=[E(n,"click",e=>{const a=B(t);if(!(!a||a===e.target||e.composedPath().includes(a))){if(e.detail===0&&(o=!m(e)),!o){o=!0;return}l(e)}},{passive:!0,capture:v}),E(n,"pointerdown",e=>{const a=B(t);a&&(o=!e.composedPath().includes(a)&&!m(e))},{passive:!0}),d&&E(n,"blur",e=>{setTimeout(()=>{var a;const f=B(t);((a=n.document.activeElement)==null?void 0:a.tagName)==="IFRAME"&&!(f!=null&&f.contains(n.document.activeElement))&&l(e)},0)})].filter(Boolean);return()=>i.forEach(e=>e())}function ye(t,l={}){var s,n;const{pointerTypes:u,preventDefault:v,stopPropagation:d,exact:o,onMove:m,onEnd:_,onStart:i,initialValue:r,axis:e="both",draggingElement:a=F,containerElement:f,handle:h=t}=l,y=p((s=w(r))!=null?s:{x:0,y:0}),g=p(),O=c=>u?u.includes(c.pointerType):!0,b=c=>{w(v)&&c.preventDefault(),w(d)&&c.stopPropagation()},$=c=>{var I;if(!O(c)||w(o)&&c.target!==w(t))return;const X=((I=w(f))!=null?I:w(t)).getBoundingClientRect(),Y={x:c.clientX-X.left,y:c.clientY-X.top};(i==null?void 0:i(Y,c))!==!1&&(g.value=Y,b(c))},P=c=>{if(!O(c)||!g.value)return;let{x:I,y:V}=y.value;(e==="x"||e==="both")&&(I=c.clientX-g.value.x),(e==="y"||e==="both")&&(V=c.clientY-g.value.y),y.value={x:I,y:V},m==null||m(y.value,c),b(c)},T=c=>{O(c)&&g.value&&(g.value=void 0,_==null||_(y.value,c),b(c))};if(q){const c={capture:(n=l.capture)!=null?n:!0};E(h,"pointerdown",$,c),E(a,"pointermove",P,c),E(a,"pointerup",T,c)}return{...ge(y),position:y,isDragging:L(()=>!!g.value),style:L(()=>`left:${y.value.x}px;top:${y.value.y}px;`)}}const be={class:"search-box"},we={key:0,class:"bg-blur"},xe=["src"],ke=["onClick"],Se=["src"],Ce={__name:"SearchBox",setup(t){const{useSystemStore:l}=ee(),s=te([{label:"百度",value:"https://www.baidu.com",icon:"./images/icons/baidu.png"},{label:"谷歌",value:"https://www.google.com",icon:"./images/icons/guge.png"},{label:"必应",value:"https://cn.bing.com",icon:"./images/icons/bing.png"},{label:"知乎",value:"https://www.zhihu.com",icon:"./images/icons/zhihu.png"},{label:"掘金",value:"https://juejin.cn",icon:"./images/icons/juejin.png"},{label:"博客园",value:"https://zzk.cnblogs.com",icon:"./images/icons/bokeyuan.png"},{label:"CSDN",value:"https://so.csdn.net/so",icon:"./images/icons/csdn.png"},{label:"GitHub",value:"https://github.com",icon:"./images/icons/github.png"},{label:"Gitee",value:"https://search.gitee.com",icon:"./images/icons/gitee.png"},{label:"Bilibili",value:"https://search.bilibili.com/all",icon:"./images/icons/bilibili.png"}]),n=p(null),u=p(!1),v=p(l.searchType),d=p(""),o=p(!1);_e(n,()=>{u.value=!1});const m=()=>{u.value=!0},_=r=>{v.value=r.value,u.value=!1,l.searchType=r.value},i=()=>{const r=v.value;if(!d.value)window.open(r,"_blank");else{let e="/s?wd=";["https://www.google.com","https://www.zhihu.com","https://so.csdn.net/so","https://cn.bing.com","https://github.com"].indexOf(r)>=0?e="/search?q=":["https://juejin.cn"].indexOf(r)>=0?e="/search?query=":["https://zzk.cnblogs.com"].indexOf(r)>=0?e="/s?w=":["https://search.gitee.com"].indexOf(r)>=0?e="/?q=":["https://search.bilibili.com/all"].indexOf(r)>=0&&(e="/?keyword="),window.open(`${r}${e}${d.value}`,"_blank"),d.value=""}};return(r,e)=>{const a=z("a-tooltip"),f=z("a-input");return x(),S("div",be,[o.value?(x(),S("div",we)):ne("",!0),C(f,{class:"search",value:d.value,"onUpdate:value":e[0]||(e[0]=h=>d.value=h),placeholder:"请输入搜索内容",onFocus:e[1]||(e[1]=h=>o.value=!0),onBlur:e[2]||(e[2]=h=>o.value=!1),onPressEnter:i},{addonBefore:A(()=>[C(a,{title:"点击切换搜索源"},{default:A(()=>[k("img",{src:s.find(h=>h.value===R(l).searchType).icon,alt:"",onClick:m},null,8,xe)]),_:1})]),suffix:A(()=>[C(R(se),{onClick:i,style:{fontSize:"18px"}})]),_:1},8,["value"]),oe(k("div",{ref_key:"searchTypeRef",ref:n,class:"search-types bf"},[(x(!0),S(j,null,G(s,h=>(x(),S("div",{class:le(["search-type",{active:v.value===h.value}]),key:h.value,onClick:y=>_(h)},[k("img",{src:h.icon,alt:""},null,8,Se),ie(" "+N(h.label),1)],10,ke))),128))],512),[[ae,u.value]])])}}},$e=U(Ce,[["__scopeId","data-v-81844f60"]]);const Ae=k("p",null,"Some contents...",-1),Ee=k("p",null,"Some contents...",-1),Oe=k("p",null,"Some contents...",-1),Te={__name:"IDialog",props:{visible:{type:Boolean,default:!1},title:{type:String,default:"标题"}},emits:["ok","cancel"],setup(t,{emit:l}){const s=t,n=p(!1);D(()=>s.visible,b=>{console.log("newVal: ",b),b&&(n.value=!0)});const u=p(null),{x:v,y:d,isDragging:o}=ye(u),m=b=>{n.value=!1,l("ok")},_=()=>{console.log(123),n.value=!1,l("cancel")},i=p(0),r=p(0),e=p(!1),a=p(0),f=p(0),h=p(0),y=p(0),g=p({left:0,right:0,top:0,bottom:0});D([v,d],()=>{if(!e.value){i.value=v.value,r.value=d.value;const b=document.body.getBoundingClientRect(),$=u.value.getBoundingClientRect();g.value.right=b.width-$.width,g.value.bottom=b.height-$.height,h.value=a.value,y.value=f.value}e.value=!0}),D(o,()=>{o||(e.value=!1)}),re(()=>{e.value&&(a.value=h.value+Math.min(Math.max(g.value.left,v.value),g.value.right)-i.value,f.value=y.value+Math.min(Math.max(g.value.top,d.value),g.value.bottom)-r.value)});const O=L(()=>({transform:`translate(${a.value}px, ${f.value}px)`}));return(b,$)=>{const P=z("a-modal");return x(),S("div",null,[C(P,{ref:"modalRef",open:n.value,"onUpdate:open":$[0]||($[0]=T=>n.value=T),"wrap-style":{overflow:"hidden"},footer:null,onOk:m,onCancel:_},{title:A(()=>[k("div",{ref_key:"modalTitleRef",ref:u,style:{width:"100%",cursor:"move"}},N(t.title),513)]),modalRender:A(({originVNode:T})=>[k("div",{style:ce(O.value)},[(x(),ue(pe(T)))],4)]),default:A(()=>[Ae,Ee,Oe]),_:1},8,["open"])])}}};const Ie={class:"apps-box"},Be=["onClick"],De=["src"],ze={__name:"Apps",setup(t){const l=p([{label:"摸鱼日报",value:"moyu",icon:"./images/apps/moyu.png",imageUrl:"https://api.vvhan.com/api/moyu"},{label:"60s读懂世界",value:"60s",icon:"./images/apps/60s.png",imageUrl:"https://api.vvhan.com/api/60s"}]),s=p(!1),n=p(!1),u=p(""),v=o=>{console.log(o),["moyu","60s"].includes(o.value)&&(u.value=o.imageUrl,d(!0))},d=o=>{n.value=o};return(o,m)=>{const _=z("a-image");return x(),S("div",Ie,[(x(!0),S(j,null,G(l.value,i=>(x(),S("div",{class:"app bf",key:i.value,onClick:r=>v(i)},[k("img",{src:i.icon,alt:""},null,8,De),k("p",null,N(i.label),1)],8,Be))),128)),C(Te,{visible:s.value,onOk:m[0]||(m[0]=i=>s.value=!1),onCancel:m[1]||(m[1]=i=>s.value=!1)},null,8,["visible"]),C(_,{width:200,style:{display:"none"},preview:{visible:n.value,onVisibleChange:d},src:u.value},null,8,["preview","src"])])}}},Pe=U(ze,[["__scopeId","data-v-996a7924"]]);const Ve={class:"home"},Re={__name:"Index",setup(t){return(l,s)=>(x(),S("div",Ve,[C($e),C(Pe)]))}},Me=U(Re,[["__scopeId","data-v-882e8ac3"]]);export{Me as default};
